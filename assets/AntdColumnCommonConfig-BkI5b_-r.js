var y=Object.defineProperty;var u=(o,e,t)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var m=(o,e,t)=>u(o,typeof e!="symbol"?e+"":e,t);import{r as g,j as l}from"./index-DV3HGm6M.js";import{aR as C,aS as h,aK as p,aT as x}from"./ViewDesignerLoader-9INExxN_.js";import"./mobxreact.esm-YJlkT53R.js";import"./MainRouter-aS_Iaf8w.js";import"./collapse-B_kZv9nw.js";import"./asyncToGenerator-CtTh0QTb.js";import"./render-Cw1HGrJm.js";import"./useZIndex-BTBR7p11.js";import"./button-Cvk8VxbG.js";import"./ContextIsolator-oL5Pl0CQ.js";import"./NumberInput-Bl50LkCo.js";import"./index-by9GQrEU.js";import"./GlobalMessage-BFtSe0qv.js";import"./InfoCircleFilled-Co9mi4T9.js";import"./FetchUtil-XmzwyhQj.js";import"./Overflow-DDCCnAKR.js";import"./index-l65SKHf7.js";import"./index-BZlaEHGr.js";import"./Input-esSgYffC.js";import"./Data-BV9iJkIq.js";import"./Button-Bz3NjrPG.js";class w extends g.Component{constructor(){super(...arguments);m(this,"barGraphicsChange",t=>{this.props.controller.update({style:t})});m(this,"barCoordinateSysChange",t=>{this.props.controller.update({style:t})})}render(){const{controller:t}=this.props,n=t.getConfig().style;return l.jsxs(l.Fragment,{children:[l.jsx(f,{onChange:this.barGraphicsChange,config:n}),l.jsx(C,{controller:t}),l.jsx(h,{onChange:this.barCoordinateSysChange,config:n})]})}}const f=({config:o,onChange:e})=>{var s;const t=i=>{const{id:a,data:r,dataFragment:c}=i;a==="columnColor"?r&&Array.isArray(r)?e({color:r,columnStyle:{fill:void 0}}):r&&typeof r=="string"&&r.indexOf("gradient")!==-1||e({columnStyle:{fill:r}}):e(c)},n={type:"accordion",label:"图形",children:[{type:"grid",children:[{key:"maxColumnWidth",type:"number-input",label:"宽度",value:12,config:{min:0,max:100}},{key:"columnStyle",children:[{key:"radius",type:"number-input",label:"圆角",value:(s=o==null?void 0:o.columnStyle)==null?void 0:s.radius,config:{min:1,max:100}}]},{id:"columnColor",type:"color-mode",label:"颜色",value:"#1c1c1c"}]}]};return l.jsx(p,{schema:n,onFieldChange:t})},z=o=>{const{controller:e}=o,{xField:t,yField:n,seriesField:s}=e.getConfig().style,i=x.getDataFieldOptions(e),a={key:"style",type:"grid",children:[{key:"xField",type:"select",label:"X字段",value:t,config:{options:i}},{key:"yField",type:"select",label:"Y字段",value:n,config:{options:i}},{key:"seriesField",type:"select",label:"分组字段",value:s,config:{options:i}}]},r=c=>{const{dataFragment:d}=c;e.update(d)};return l.jsx("div",{style:{padding:10},children:l.jsx(p,{schema:a,onFieldChange:r})})};export{z as AntdColumnCommonFieldMapping,w as AntdColumnCommonStyleConfig,f as AntdColumnGraphics};
